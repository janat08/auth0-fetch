{
  "version": 3,
  "sources": ["../../../node_modules/.pnpm/cookie@0.4.2/node_modules/cookie/index.js", "../../../node_modules/.pnpm/itty-router@2.6.1/node_modules/itty-router/dist/itty-router.min.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/middleware/withContent.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/middleware/withCookies.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/middleware/withParams.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/middleware/index.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/response/createResponseType.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/response/json.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/response/error.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/response/missing.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/response/status.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/response/text.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/response/index.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/router/ThrowableRouter.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/router/index.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/classes/StatusError.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/classes/index.js", "../../../node_modules/.pnpm/itty-router-extras@0.4.2/node_modules/itty-router-extras/index.js", "../../../node_modules/.pnpm/itty-durable@1.0.0/node_modules/itty-durable/proxy-durable.js", "../../../node_modules/.pnpm/itty-durable@1.0.0/node_modules/itty-durable/itty-durable.js", "../../../node_modules/.pnpm/itty-durable@1.0.0/node_modules/itty-durable/with-durables.js", "../../../node_modules/.pnpm/itty-durable@1.0.0/node_modules/itty-durable/index.js", "../../../node_modules/.pnpm/hono@2.0.7/node_modules/hono/dist/utils/cookie.js", "../../../node_modules/.pnpm/hono@2.0.7/node_modules/hono/dist/utils/url.js", "../../../node_modules/.pnpm/hono@2.0.7/node_modules/hono/dist/context.js", "../../../node_modules/.pnpm/hono@2.0.7/node_modules/hono/dist/compose.js", "../../../node_modules/.pnpm/hono@2.0.7/node_modules/hono/dist/utils/body.js", "../../../node_modules/.pnpm/hono@2.0.7/node_modules/hono/dist/request.js", "../../../node_modules/.pnpm/hono@2.0.7/node_modules/hono/dist/router.js", "../../../node_modules/.pnpm/hono@2.0.7/node_modules/hono/dist/router/trie-router/node.js", "../../../node_modules/.pnpm/hono@2.0.7/node_modules/hono/dist/router/trie-router/router.js", "../../../node_modules/.pnpm/hono@2.0.7/node_modules/hono/dist/router/trie-router/index.js", "../../../node_modules/.pnpm/hono@2.0.7/node_modules/hono/dist/hono.js", "../../../node_modules/.pnpm/hono@2.0.7/node_modules/hono/dist/index.js", "../auth0.js", "../durables.ts", "../index.js"],
  "sourcesContent": ["/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(';')\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var index = pair.indexOf('=')\n\n    // skip things that don't look like key=value\n    if (index < 0) {\n      continue;\n    }\n\n    var key = pair.substring(0, index).trim()\n\n    // only assign once\n    if (undefined == obj[key]) {\n      var val = pair.substring(index + 1, pair.length).trim()\n\n      // quoted values\n      if (val[0] === '\"') {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n", "module.exports={Router:function({base:t=\"\",routes:n=[]}={}){return{__proto__:new Proxy({},{get:(e,a,o)=>(e,...r)=>n.push([a.toUpperCase(),RegExp(`^${(t+e).replace(/(\\/?)\\*/g,\"($1.*)?\").replace(/\\/$/,\"\").replace(/:(\\w+)(\\?)?(\\.)?/g,\"$2(?<$1>[^/]+)$2$3\").replace(/\\.(?=[\\w(])/,\"\\\\.\").replace(/\\)\\.\\?\\(([^\\[]+)\\[\\^/g,\"?)\\\\.?($1(?<=\\\\.)[^\\\\.\")}/*$`),r])&&o}),routes:n,async handle(e,...r){let a,o,t=new URL(e.url);e.query=Object.fromEntries(t.searchParams);for(var[p,s,u]of n)if((p===e.method||\"ALL\"===p)&&(o=t.pathname.match(s))){e.params=o.groups;for(var c of u)if(void 0!==(a=await c(e.proxy||e,...r)))return a}}}}};\n", "const withContent=async t=>{let n=t.headers.get(\"content-type\");t.content=void 0;try{n&&n.includes(\"application/json\")&&(t.content=await t.json())}catch(t){}};module.exports={withContent:withContent};", "const withCookies=o=>{o.cookies={};try{o.cookies=(o.headers.get(\"Cookie\")||\"\").split(/;\\s*/).map(o=>o.split(\"=\")).reduce((o,[e,i])=>(o[e]=i,o),{})}catch(o){}};module.exports={withCookies:withCookies};", "const withParams=a=>{for(const s in a.params||{})a[s]=a.params[s]};module.exports={withParams:withParams};", "module.exports={...require(\"./withContent\"),...require(\"./withCookies\"),...require(\"./withParams\")};", "const createResponseType=(e=\"text/plain; charset=utf-8\")=>(s,t={})=>{const{headers:n={},...o}=t;return\"object\"==typeof s?new Response(JSON.stringify(s),{headers:{\"Content-Type\":e,...n},...o}):new Response(s,t)};module.exports={createResponseType:createResponseType};", "const{createResponseType:createResponseType}=require(\"./createResponseType\"),json=createResponseType(\"application/json; charset=utf-8\");module.exports={json:json};", "const{json:json}=require(\"./json\"),error=(r=500,o=\"Internal Server Error.\")=>json({...\"object\"==typeof o?o:{status:r,error:o}},{status:r});module.exports={error:error};", "const{error:error}=require(\"./error\"),missing=(r=\"Not found.\")=>error(404,r);module.exports={missing:missing};", "const{json:json}=require(\"./json\"),status=(s,t)=>t?json({...\"object\"==typeof t?t:{status:s,message:t}},{status:s}):new Response(null,{status:s});module.exports={status:status};", "const text=(e,t={})=>new Response(e,t);module.exports={text:text};", "module.exports={...require(\"./error\"),...require(\"./json\"),...require(\"./missing\"),...require(\"./status\"),...require(\"./text\")};", "\"use strict\";const{Router:Router}=require(\"itty-router\"),{error:error}=require(\"../response\"),ThrowableRouter=(r={})=>{const{stack:e=!1}=r;return new Proxy(Router(r),{get:(r,t)=>(...o)=>\"handle\"===t?r[t](...o).catch(r=>error(r.status||500,{status:r.status||500,error:r.message,stack:e&&r.stack||void 0})):r[t](...o)})};module.exports={ThrowableRouter:ThrowableRouter};", "module.exports={...require(\"./ThrowableRouter\")};", "class StatusError extends Error{constructor(r=500,t=\"Internal Error.\"){super(t),this.name=\"StatusError\",this.status=r}}module.exports={StatusError:StatusError};", "module.exports={...require(\"./StatusError\")};", "module.exports={...require(\"./middleware\"),...require(\"./response\"),...require(\"./router\"),...require(\"./classes\")};", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.proxyDurable = void 0;\nconst itty_router_extras_1 = require(\"itty-router-extras\");\n// helper function to parse response\nconst transformResponse = response => {\n    try {\n        return response.json();\n    }\n    catch (err) { }\n    try {\n        return response.text();\n    }\n    catch (err) { }\n    return response;\n};\n// takes the durable (e.g. env.Counter) and returns an object with { get(id) } to fetch the proxied stub\nconst proxyDurable = (durable, middlewareOptions = {}) => {\n    if (!durable || !durable.idFromName) {\n        throw new itty_router_extras_1.StatusError(500, `${middlewareOptions.name || 'That'} is not a valid Durable Object binding.`);\n    }\n    return {\n        get: (id, options = {}) => {\n            options = Object.assign(Object.assign({}, middlewareOptions), options);\n            try {\n                if (typeof id === 'string') {\n                    id = durable.idFromName(id);\n                }\n                const stub = durable.get(id);\n                const mock = typeof options.class === 'function' && new options.class();\n                const isValidMethod = prop => prop !== 'fetch' && (!mock || typeof mock[prop] === 'function');\n                const buildRequest = (type, prop, content) => new Request(`https://itty-durable/${type}/${prop}`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify(content)\n                });\n                const stubFetch = (obj, type, prop, content) => {\n                    const theFetch = obj.fetch(buildRequest(type, prop, content));\n                    return options.parse\n                        ? theFetch.then(transformResponse)\n                        : theFetch;\n                };\n                return new Proxy(stub, {\n                    get: (obj, prop) => isValidMethod(prop)\n                        ? (...args) => stubFetch(obj, 'call', prop, args)\n                        : stubFetch(obj, 'get-prop', prop),\n                    set: (obj, prop, value) => stubFetch(obj, 'set', prop, value),\n                });\n            }\n            catch (err) {\n                throw new itty_router_extras_1.StatusError(500, err.message);\n            }\n        }\n    };\n};\nexports.proxyDurable = proxyDurable;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDurable = void 0;\nconst itty_router_1 = require(\"itty-router\");\nconst itty_router_extras_1 = require(\"itty-router-extras\");\nconst proxy_durable_1 = require(\"./proxy-durable\");\n// factory function for IttyDurable with custom options\nconst createDurable = (options = {}) => {\n    const { autoPersist = false, autoReturn = false, onError = err => (0, itty_router_extras_1.error)(err.status || 500, err.message), } = options;\n    return class IttyDurable {\n        constructor(state = {}, env = {}) {\n            this.state = Object.assign(Object.assign({ defaultState: undefined, initialized: false, router: (0, itty_router_1.Router)() }, env), state);\n            // embed bindings into this.env\n            for (const [key, binding] of Object.entries(env)) {\n                this.state[key] = typeof binding.idFromName === 'function'\n                    ? (0, proxy_durable_1.proxyDurable)(binding, { name: key, parse: true })\n                    : binding;\n            }\n            // creates a proxy of this to return\n            const proxied = new Proxy(this, {\n                get: (obj, prop, receiver) => typeof obj[prop] === 'function'\n                    ? obj[prop].bind(receiver)\n                    : obj[prop],\n                set: (obj, prop, value) => {\n                    obj[prop] = value;\n                    return true;\n                }\n            });\n            // one router to rule them all\n            this.state.router\n                .post('/:action/:target', itty_router_extras_1.withParams, itty_router_extras_1.withContent, (request, env) => __awaiter(this, void 0, void 0, function* () {\n                const { action, target, content = [] } = request;\n                if (action === 'call') {\n                    if (typeof this[target] !== 'function') {\n                        throw new itty_router_extras_1.StatusError(500, `Durable Object state{this.constructor.name} does not contain method state{target}()`);\n                    }\n                    const response = yield proxied[target](...content);\n                    // return early if response detected\n                    if (response !== undefined) {\n                        return response instanceof Response\n                            ? response\n                            : (0, itty_router_extras_1.json)(response);\n                    }\n                }\n                else if (action === 'set') {\n                    proxied[target] = content;\n                }\n                else if (action === 'get-prop') {\n                    return (0, itty_router_extras_1.json)(yield proxied[target]);\n                }\n            }), proxied.optionallyReturnThis);\n            return proxied;\n        }\n        // purge storage, and optionally reset internal memory state\n        destroy(options = {}) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const { reset = false } = options;\n                yield this.state.storage.deleteAll();\n                if (reset) {\n                    this.reset();\n                }\n            });\n        }\n        // fetch method is the expected interface method of Durable Objects per Cloudflare spec\n        fetch(...args) {\n            return __awaiter(this, void 0, void 0, function* () {\n                // save default state for reset\n                if (!this.state.initialized) {\n                    this.state.defaultState = JSON.stringify(this.getPersistable());\n                }\n                yield this.loadFromStorage();\n                // we pass off the request to the internal router\n                const response = yield this.state.router\n                    .handle(...args)\n                    .catch(onError);\n                // if persistOnChange is true, we persist on every response\n                if (autoPersist) {\n                    this.persist();\n                }\n                // then return the response\n                return response || (0, itty_router_extras_1.error)(400, 'Bad request to durable object');\n            });\n        }\n        // gets persistable state (defaults to all but itty data)\n        getPersistable() {\n            const _a = this, { state } = _a, persistable = __rest(_a, [\"state\"]);\n            return persistable;\n        }\n        loadFromStorage() {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!this.state.initialized) {\n                    const stored = (yield this.state.storage.get('data')) || {};\n                    Object.assign(this, stored);\n                    this.state.initialized = true;\n                }\n            });\n        }\n        // returns self from methods that fail to return if autoReturn flag is enabled\n        optionallyReturnThis() {\n            if (autoReturn) {\n                return (0, itty_router_extras_1.json)(this.toJSON\n                    ? this.toJSON()\n                    : this);\n            }\n        }\n        // persists to storage, override to control\n        persist() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const _a = this.getPersistable(), { state } = _a, persistable = __rest(_a, [\"state\"]);\n                yield this.state.storage.put('data', persistable);\n            });\n        }\n        // resets object to preserved default state\n        reset() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const _a = this.getPersistable(), { state } = _a, persistable = __rest(_a, [\"state\"]);\n                for (const key in persistable) {\n                    Reflect.deleteProperty(this, key);\n                }\n                // reset to defaults from constructor\n                Object.assign(this, JSON.parse(this.state.defaultState));\n            });\n        }\n        // defaults to returning all content\n        toJSON() {\n            const _a = this, { state } = _a, other = __rest(_a, [\"state\"]);\n            return other;\n        }\n    };\n};\nexports.createDurable = createDurable;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withDurables = void 0;\nconst itty_router_extras_1 = require(\"itty-router-extras\");\nconst proxy_durable_1 = require(\"./proxy-durable\");\n// returns true if binding appears to be a durable binding\nconst isDurable = (binding) => typeof binding.idFromName === 'function';\nconst withDurables = (options = {}) => (request, env) => {\n    const { parse = false, classes = {}, } = options;\n    request.durables = request.durables || {};\n    for (const [key, binding] of Object.entries(env)) {\n        if (isDurable(binding)) {\n            const proxied = (0, proxy_durable_1.proxyDurable)(binding, {\n                name: key,\n                class: classes[key],\n                parse,\n            });\n            try {\n                request[key] = request.durables[key] = proxied;\n            }\n            catch (err) {\n                throw new itty_router_extras_1.StatusError(500, `Could not set Durable binding \"${key}\" on Request`);\n            }\n        }\n    }\n};\nexports.withDurables = withDurables;\n", "\"use strict\";\nmodule.exports = Object.assign(Object.assign(Object.assign({}, require('./itty-durable')), require('./with-durables')), require('./proxy-durable'));\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serialize = exports.parse = void 0;\nconst parse = (cookie) => {\n    const pairs = cookie.split(/;\\s*/g);\n    const parsedCookie = {};\n    for (let i = 0, len = pairs.length; i < len; i++) {\n        const pair = pairs[i].split(/\\s*=\\s*([^\\s]+)/);\n        parsedCookie[pair[0]] = decodeURIComponent(pair[1]);\n    }\n    return parsedCookie;\n};\nexports.parse = parse;\nconst serialize = (name, value, opt = {}) => {\n    value = encodeURIComponent(value);\n    let cookie = `${name}=${value}`;\n    if (opt.maxAge) {\n        cookie += `; Max-Age=${Math.floor(opt.maxAge)}`;\n    }\n    if (opt.domain) {\n        cookie += '; Domain=' + opt.domain;\n    }\n    if (opt.path) {\n        cookie += '; Path=' + opt.path;\n    }\n    if (opt.expires) {\n        cookie += '; Expires=' + opt.expires.toUTCString();\n    }\n    if (opt.httpOnly) {\n        cookie += '; HttpOnly';\n    }\n    if (opt.secure) {\n        cookie += '; Secure';\n    }\n    if (opt.sameSite) {\n        cookie += `; SameSite=${opt.sameSite}`;\n    }\n    return cookie;\n};\nexports.serialize = serialize;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergePath = exports.isAbsoluteURL = exports.getPathFromURL = exports.getPattern = exports.splitPath = void 0;\nconst URL_REGEXP = /^https?:\\/\\/[a-zA-Z0-9\\-\\.:]+(\\/?[^?#]*)/;\nconst splitPath = (path) => {\n    const paths = path.split(/\\//); // faster than path.split('/')\n    if (paths[0] === '') {\n        paths.shift();\n    }\n    return paths;\n};\nexports.splitPath = splitPath;\nconst patternCache = {};\nconst getPattern = (label) => {\n    // *            => wildcard\n    // :id{[0-9]+}  => ([0-9]+)\n    // :id          => (.+)\n    //const name = ''\n    if (label === '*') {\n        return '*';\n    }\n    const match = label.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n    if (match) {\n        if (!patternCache[label]) {\n            if (match[2]) {\n                patternCache[label] = [label, match[1], new RegExp('^' + match[2] + '$')];\n            }\n            else {\n                patternCache[label] = [label, match[1], true];\n            }\n        }\n        return patternCache[label];\n    }\n    return null;\n};\nexports.getPattern = getPattern;\nconst getPathFromURL = (url, strict = true) => {\n    const queryIndex = url.indexOf('?');\n    const result = url.substring(url.indexOf('/', 8), queryIndex === -1 ? url.length : queryIndex);\n    // if strict routing is false => `/hello/hey/` and `/hello/hey` are treated the same\n    // default is true\n    if (strict === false && result.endsWith('/')) {\n        return result.slice(0, -1);\n    }\n    return result;\n};\nexports.getPathFromURL = getPathFromURL;\nconst isAbsoluteURL = (url) => {\n    const match = url.match(URL_REGEXP);\n    if (match) {\n        return true;\n    }\n    return false;\n};\nexports.isAbsoluteURL = isAbsoluteURL;\nconst mergePath = (...paths) => {\n    let p = '';\n    let endsWithSlash = false;\n    for (let path of paths) {\n        /* ['/hey/','/say'] => ['/hey', '/say'] */\n        if (p.endsWith('/')) {\n            p = p.slice(0, -1);\n            endsWithSlash = true;\n        }\n        /* ['/hey','say'] => ['/hey', '/say'] */\n        if (!path.startsWith('/')) {\n            path = `/${path}`;\n        }\n        /* ['/hey/', '/'] => `/hey/` */\n        if (path === '/' && endsWithSlash) {\n            p = `${p}/`;\n        }\n        else if (path !== '/') {\n            p = `${p}${path}`;\n        }\n        /* ['/', '/'] => `/` */\n        if (path === '/' && p === '') {\n            p = '/';\n        }\n    }\n    return p;\n};\nexports.mergePath = mergePath;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HonoContext = void 0;\nconst cookie_1 = require(\"./utils/cookie\");\nconst url_1 = require(\"./utils/url\");\nclass HonoContext {\n    constructor(req, env = undefined, executionCtx = undefined, notFoundHandler = () => new Response()) {\n        this._status = 200;\n        this._pretty = false;\n        this._prettySpace = 2;\n        this._executionCtx = executionCtx;\n        this.req = req;\n        this.env = env ? env : {};\n        this.notFoundHandler = notFoundHandler;\n        this.finalized = false;\n    }\n    get event() {\n        if (this._executionCtx instanceof FetchEvent) {\n            return this._executionCtx;\n        }\n        else {\n            throw Error('This context has no FetchEvent');\n        }\n    }\n    get executionCtx() {\n        if (this._executionCtx) {\n            return this._executionCtx;\n        }\n        else {\n            throw Error('This context has no ExecutionContext');\n        }\n    }\n    get res() {\n        return (this._res || (this._res = new Response()));\n    }\n    set res(_res) {\n        this._res = _res;\n        this.finalized = true;\n    }\n    header(name, value) {\n        this._headers || (this._headers = {});\n        this._headers[name] = value;\n        if (this.finalized) {\n            this.res.headers.set(name, value);\n        }\n    }\n    status(status) {\n        this._status = status;\n    }\n    set(key, value) {\n        this._map || (this._map = {});\n        this._map[key] = value;\n    }\n    get(key) {\n        if (!this._map) {\n            return undefined;\n        }\n        return this._map[key];\n    }\n    pretty(prettyJSON, space = 2) {\n        this._pretty = prettyJSON;\n        this._prettySpace = space;\n    }\n    newResponse(data, status, headers = {}) {\n        const _headers = { ...this._headers, ...headers };\n        if (this._res) {\n            this._res.headers.forEach((v, k) => {\n                _headers[k] = v;\n            });\n        }\n        return new Response(data, {\n            status: status || this._status || 200,\n            headers: _headers,\n        });\n    }\n    body(data, status = this._status, headers = {}) {\n        return this.newResponse(data, status, headers);\n    }\n    text(text, status = this._status, headers = {}) {\n        headers['Content-Type'] || (headers['Content-Type'] = 'text/plain; charset=UTF-8');\n        return this.body(text, status, headers);\n    }\n    json(object, status = this._status, headers = {}) {\n        const body = this._pretty\n            ? JSON.stringify(object, null, this._prettySpace)\n            : JSON.stringify(object);\n        headers['Content-Type'] || (headers['Content-Type'] = 'application/json; charset=UTF-8');\n        return this.body(body, status, headers);\n    }\n    html(html, status = this._status, headers = {}) {\n        headers['Content-Type'] || (headers['Content-Type'] = 'text/html; charset=UTF-8');\n        return this.body(html, status, headers);\n    }\n    redirect(location, status = 302) {\n        if (!(0, url_1.isAbsoluteURL)(location)) {\n            const url = new URL(this.req.url);\n            url.pathname = location;\n            location = url.toString();\n        }\n        return this.newResponse(null, status, {\n            Location: location,\n        });\n    }\n    cookie(name, value, opt) {\n        const cookie = (0, cookie_1.serialize)(name, value, opt);\n        this.header('Set-Cookie', cookie);\n    }\n    notFound() {\n        return this.notFoundHandler(this);\n    }\n}\nexports.HonoContext = HonoContext;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compose = void 0;\nconst context_1 = require(\"./context\");\n// Based on the code in the MIT licensed `koa-compose` package.\nconst compose = (middleware, onError, onNotFound) => {\n    return (context, next) => {\n        let index = -1;\n        return dispatch(0);\n        async function dispatch(i) {\n            if (i <= index) {\n                return Promise.reject(new Error('next() called multiple times'));\n            }\n            let handler = middleware[i];\n            index = i;\n            if (i === middleware.length && next)\n                handler = next;\n            if (!handler) {\n                if (context instanceof context_1.HonoContext && context.finalized === false && onNotFound) {\n                    context.res = await onNotFound(context);\n                }\n                return Promise.resolve(context);\n            }\n            return Promise.resolve(handler(context, () => dispatch(i + 1)))\n                .then((res) => {\n                // If handler return Response like `return c.text('foo')`\n                if (res && context instanceof context_1.HonoContext) {\n                    context.res = res;\n                }\n                return context;\n            })\n                .catch((err) => {\n                if (context instanceof context_1.HonoContext && onError) {\n                    if (err instanceof Error) {\n                        context.res = onError(err, context);\n                    }\n                    return context;\n                }\n                else {\n                    throw err;\n                }\n            });\n        }\n    };\n};\nexports.compose = compose;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseBody = void 0;\nconst parseBody = async (r) => {\n    const contentType = r.headers.get('Content-Type') || '';\n    if (contentType.includes('application/json')) {\n        let body = {};\n        try {\n            body = await r.json();\n        }\n        catch { } // Do nothing\n        return body;\n    }\n    else if (contentType.includes('application/text')) {\n        return await r.text();\n    }\n    else if (contentType.startsWith('text')) {\n        return await r.text();\n    }\n    else if (contentType.includes('form')) {\n        const form = {};\n        const data = [...(await r.formData())].reduce((acc, cur) => {\n            acc[cur[0]] = cur[1];\n            return acc;\n        }, form);\n        return data;\n    }\n    const arrayBuffer = await r.arrayBuffer();\n    return arrayBuffer;\n};\nexports.parseBody = parseBody;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendRequestPrototype = void 0;\nconst body_1 = require(\"./utils/body\");\nconst cookie_1 = require(\"./utils/cookie\");\nfunction extendRequestPrototype() {\n    if (!!Request.prototype.param) {\n        // already extended\n        return;\n    }\n    Request.prototype.param = function (key) {\n        if (this.paramData) {\n            if (key) {\n                return this.paramData[key];\n            }\n            else {\n                return this.paramData;\n            }\n        }\n        return null;\n    };\n    Request.prototype.header = function (name) {\n        if (name) {\n            return this.headers.get(name);\n        }\n        else {\n            const result = {};\n            for (const [key, value] of this.headers) {\n                result[key] = value;\n            }\n            return result;\n        }\n    };\n    Request.prototype.query = function (key) {\n        const url = new URL(this.url);\n        if (key) {\n            return url.searchParams.get(key);\n        }\n        else {\n            const result = {};\n            for (const key of url.searchParams.keys()) {\n                result[key] = url.searchParams.get(key) || '';\n            }\n            return result;\n        }\n    };\n    Request.prototype.queries = function (key) {\n        const url = new URL(this.url);\n        if (key) {\n            return url.searchParams.getAll(key);\n        }\n        else {\n            const result = {};\n            for (const key of url.searchParams.keys()) {\n                result[key] = url.searchParams.getAll(key);\n            }\n            return result;\n        }\n    };\n    Request.prototype.cookie = function (key) {\n        const cookie = this.headers.get('Cookie') || '';\n        const obj = (0, cookie_1.parse)(cookie);\n        if (key) {\n            const value = obj[key];\n            return value;\n        }\n        else {\n            return obj;\n        }\n    };\n    Request.prototype.parseBody = function () {\n        if (!this.parsedBody) {\n            this.parsedBody = (0, body_1.parseBody)(this);\n        }\n        return this.parsedBody;\n    };\n}\nexports.extendRequestPrototype = extendRequestPrototype;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.METHOD_NAME_ALL_LOWERCASE = exports.METHOD_NAME_ALL = void 0;\nexports.METHOD_NAME_ALL = 'ALL';\nexports.METHOD_NAME_ALL_LOWERCASE = 'all';\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Node = void 0;\nconst router_1 = require(\"../../router\");\nconst url_1 = require(\"../../utils/url\");\nfunction findParam(node, name) {\n    for (let i = 0, len = node.patterns.length; i < len; i++) {\n        if (typeof node.patterns[i] === 'object' && node.patterns[i][1] === name) {\n            return true;\n        }\n    }\n    const nodes = Object.values(node.children);\n    for (let i = 0, len = nodes.length; i < len; i++) {\n        if (findParam(nodes[i], name)) {\n            return true;\n        }\n    }\n    return false;\n}\nclass Node {\n    constructor(method, handler, children) {\n        this.order = 0;\n        this.children = children || {};\n        this.methods = [];\n        this.name = '';\n        if (method && handler) {\n            const m = {};\n            m[method] = { handler: handler, score: 0, name: this.name };\n            this.methods = [m];\n        }\n        this.patterns = [];\n        this.handlerSetCache = {};\n    }\n    insert(method, path, handler) {\n        this.name = `${method} ${path}`;\n        this.order = ++this.order;\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let curNode = this;\n        const parts = (0, url_1.splitPath)(path);\n        const parentPatterns = [];\n        const errorMessage = (name) => {\n            return `Duplicate param name, use another name instead of '${name}' - ${method} ${path} <--- '${name}'`;\n        };\n        for (let i = 0, len = parts.length; i < len; i++) {\n            const p = parts[i];\n            if (Object.keys(curNode.children).includes(p)) {\n                parentPatterns.push(...curNode.patterns);\n                curNode = curNode.children[p];\n                continue;\n            }\n            curNode.children[p] = new Node();\n            const pattern = (0, url_1.getPattern)(p);\n            if (pattern) {\n                if (typeof pattern === 'object') {\n                    for (let j = 0, len = parentPatterns.length; j < len; j++) {\n                        if (typeof parentPatterns[j] === 'object' && parentPatterns[j][1] === pattern[1]) {\n                            throw new Error(errorMessage(pattern[1]));\n                        }\n                    }\n                    if (Object.values(curNode.children).some((n) => findParam(n, pattern[1]))) {\n                        throw new Error(errorMessage(pattern[1]));\n                    }\n                }\n                curNode.patterns.push(pattern);\n                parentPatterns.push(...curNode.patterns);\n            }\n            parentPatterns.push(...curNode.patterns);\n            curNode = curNode.children[p];\n        }\n        if (!curNode.methods.length) {\n            curNode.methods = [];\n        }\n        const m = {};\n        const handlerSet = { handler: handler, name: this.name, score: this.order };\n        m[method] = handlerSet;\n        curNode.methods.push(m);\n        return curNode;\n    }\n    getHandlerSets(node, method, wildcard) {\n        var _a, _b;\n        return ((_a = node.handlerSetCache)[_b = `${method}:${wildcard ? '1' : '0'}`] || (_a[_b] = (() => {\n            const handlerSets = [];\n            node.methods.map((m) => {\n                const handlerSet = m[method] || m[router_1.METHOD_NAME_ALL];\n                if (handlerSet !== undefined) {\n                    const hs = { ...handlerSet };\n                    handlerSets.push(hs);\n                    return;\n                }\n            });\n            return handlerSets;\n        })()));\n    }\n    search(method, path) {\n        const handlerSets = [];\n        const params = {};\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const curNode = this;\n        let curNodes = [curNode];\n        const parts = (0, url_1.splitPath)(path);\n        for (let i = 0, len = parts.length; i < len; i++) {\n            const part = parts[i];\n            const isLast = i === len - 1;\n            const tempNodes = [];\n            let matched = false;\n            for (let j = 0, len2 = curNodes.length; j < len2; j++) {\n                const node = curNodes[j];\n                const nextNode = node.children[part];\n                if (nextNode) {\n                    if (isLast === true) {\n                        // '/hello/*' => match '/hello'\n                        if (nextNode.children['*']) {\n                            handlerSets.push(...this.getHandlerSets(nextNode.children['*'], method, true));\n                        }\n                        handlerSets.push(...this.getHandlerSets(nextNode, method));\n                        matched = true;\n                    }\n                    tempNodes.push(nextNode);\n                }\n                for (let k = 0, len3 = node.patterns.length; k < len3; k++) {\n                    const pattern = node.patterns[k];\n                    // Wildcard\n                    // '/hello/*/foo' => match /hello/bar/foo\n                    if (pattern === '*') {\n                        const astNode = node.children['*'];\n                        if (astNode) {\n                            handlerSets.push(...this.getHandlerSets(astNode, method));\n                            tempNodes.push(astNode);\n                        }\n                        continue;\n                    }\n                    if (part === '')\n                        continue;\n                    // Named match\n                    // `/posts/:id` => match /posts/123\n                    const [key, name, matcher] = pattern;\n                    if (matcher === true || (matcher instanceof RegExp && matcher.test(part))) {\n                        if (typeof key === 'string') {\n                            if (isLast === true) {\n                                handlerSets.push(...this.getHandlerSets(node.children[key], method));\n                            }\n                            tempNodes.push(node.children[key]);\n                        }\n                        // '/book/a'     => not-slug\n                        // '/book/:slug' => slug\n                        // GET /book/a   ~> no-slug, param['slug'] => undefined\n                        // GET /book/foo ~> slug, param['slug'] => foo\n                        if (typeof name === 'string' && !matched) {\n                            params[name] = part;\n                        }\n                    }\n                }\n            }\n            curNodes = tempNodes;\n        }\n        if (handlerSets.length <= 0)\n            return null;\n        const handlers = handlerSets\n            .sort((a, b) => {\n            return a.score - b.score;\n        })\n            .map((s) => {\n            return s.handler;\n        });\n        return { handlers, params };\n    }\n}\nexports.Node = Node;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TrieRouter = void 0;\nconst node_1 = require(\"./node\");\nclass TrieRouter {\n    constructor() {\n        this.node = new node_1.Node();\n    }\n    add(method, path, handler) {\n        this.node.insert(method, path, handler);\n    }\n    match(method, path) {\n        return this.node.search(method, path);\n    }\n}\nexports.TrieRouter = TrieRouter;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TrieRouter = void 0;\nvar router_1 = require(\"./router\");\nObject.defineProperty(exports, \"TrieRouter\", { enumerable: true, get: function () { return router_1.TrieRouter; } });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Hono = void 0;\nconst compose_1 = require(\"./compose\");\nconst context_1 = require(\"./context\");\nconst request_1 = require(\"./request\");\nconst router_1 = require(\"./router\");\nconst trie_router_1 = require(\"./router/trie-router\"); // Default Router\nconst url_1 = require(\"./utils/url\");\nconst methods = ['get', 'post', 'put', 'delete', 'head', 'options', 'patch'];\nfunction defineDynamicClass() {\n    return class {\n    };\n}\nclass Hono extends defineDynamicClass() {\n    constructor(init = {}) {\n        super();\n        this.router = new trie_router_1.TrieRouter();\n        this.strict = true; // strict routing - default is true\n        this._tempPath = '';\n        this.path = '/';\n        this.routes = [];\n        this.notFoundHandler = (c) => {\n            const message = '404 Not Found';\n            return c.text(message, 404);\n        };\n        this.errorHandler = (err, c) => {\n            console.error(`${err.stack || err.message}`);\n            const message = 'Internal Server Error';\n            return c.text(message, 500);\n        };\n        this.fetch = (request, env, executionCtx) => {\n            return this.dispatch(request, executionCtx, env);\n        };\n        (0, request_1.extendRequestPrototype)();\n        const allMethods = [...methods, router_1.METHOD_NAME_ALL_LOWERCASE];\n        allMethods.map((method) => {\n            this[method] = (args1, ...args) => {\n                if (typeof args1 === 'string') {\n                    this.path = args1;\n                }\n                else {\n                    this.addRoute(method, this.path, args1);\n                }\n                args.map((handler) => {\n                    if (typeof handler !== 'string') {\n                        this.addRoute(method, this.path, handler);\n                    }\n                });\n                return this;\n            };\n        });\n        Object.assign(this, init);\n    }\n    route(path, app) {\n        this._tempPath = path;\n        if (app) {\n            app.routes.map((r) => {\n                this.addRoute(r.method, r.path, r.handler);\n            });\n            this._tempPath = '';\n        }\n        return this;\n    }\n    use(arg1, ...handlers) {\n        if (typeof arg1 === 'string') {\n            this.path = arg1;\n        }\n        else {\n            handlers.unshift(arg1);\n        }\n        handlers.map((handler) => {\n            this.addRoute(router_1.METHOD_NAME_ALL, this.path, handler);\n        });\n        return this;\n    }\n    onError(handler) {\n        this.errorHandler = handler;\n        return this;\n    }\n    notFound(handler) {\n        this.notFoundHandler = handler;\n        return this;\n    }\n    addRoute(method, path, handler) {\n        method = method.toUpperCase();\n        if (this._tempPath) {\n            path = (0, url_1.mergePath)(this._tempPath, path);\n        }\n        this.router.add(method, path, handler);\n        const r = { path: path, method: method, handler: handler };\n        this.routes.push(r);\n    }\n    matchRoute(method, path) {\n        return this.router.match(method, path);\n    }\n    async dispatch(request, eventOrExecutionCtx, env) {\n        const path = (0, url_1.getPathFromURL)(request.url, this.strict);\n        const method = request.method;\n        const result = this.matchRoute(method, path);\n        request.paramData = result?.params;\n        const handlers = result ? result.handlers : [this.notFoundHandler];\n        const c = new context_1.HonoContext(request, env, eventOrExecutionCtx, this.notFoundHandler);\n        const composed = (0, compose_1.compose)(handlers, this.errorHandler, this.notFoundHandler);\n        let context;\n        try {\n            context = await composed(c);\n            if (!context.finalized) {\n                throw new Error('Context is not finalized. You may forget returning Response object or `await next()`');\n            }\n        }\n        catch (err) {\n            if (err instanceof Error) {\n                return this.errorHandler(err, c);\n            }\n            throw err;\n        }\n        return context.res;\n    }\n    handleEvent(event) {\n        return this.dispatch(event.request, event);\n    }\n    request(input, requestInit) {\n        const req = input instanceof Request ? input : new Request(input, requestInit);\n        return this.dispatch(req);\n    }\n}\nexports.Hono = Hono;\n", "\"use strict\";\n// @denoify-ignore\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path=\"./request.ts\" /> Import \"declare global\" for the Request interface.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Hono = void 0;\nconst hono_1 = require(\"./hono\");\nObject.defineProperty(exports, \"Hono\", { enumerable: true, get: function () { return hono_1.Hono; } });\nhono_1.Hono.prototype.fire = function () {\n    addEventListener('fetch', (event) => {\n        void event.respondWith(this.handleEvent(event));\n    });\n};\n", "import cookie from 'cookie'\n\nimport { proxyDurable } from 'itty-durable'\nexport const cookieKey = 'AUTH0-AUTH'\n\nconst {log} = console\n\nexport function globals({kv, MODE, ...env}, request2){\nconst {SESSION, STATE} = env\n\nconst AUTH_STORE = kv\nconst devBase = env.AUTHREDIRECT\nconst callbackBase = MODE != 'production'? devBase : env.AUTHREDIRECTPRODUCTION\nconst auth0 = {\n  domain: env.AUTH0DOMAIN,\n  clientId: env.AUTH0ID,\n  clientSecret: env.AUTH0SECRET,\n  callbackUrl: callbackBase + \"/auth\",\n}\n\nconst AUTH0_DOMAIN = \"https://\" + auth0.domain \nconst AUTH0_CLIENT_ID = auth0.clientId\nconst generateStateParam = async () => {\n  const id = STATE.newUniqueId()\n  const obj = STATE.get(id)\n  const resp = await obj.fetch('/created')\n  return id.toString() \n} \n\nconst exchangeCode = async code => {\n  const body = JSON.stringify({\n    grant_type: 'authorization_code',\n    client_id: auth0.clientId,\n    client_secret: auth0.clientSecret,\n    code,\n    redirect_uri: auth0.callbackUrl,\n  })\n  const res = await fetch(AUTH0_DOMAIN + '/oauth/token', {\n    method: 'POST',\n    headers: { 'content-type': 'application/json' },\n    body,\n  })\n  return persistAuth(\n    res\n  )\n}\n\n// https://github.com/pose/webcrypto-jwt/blob/master/index.js\nconst decodeJWT = function(token) {\n  var output = token\n    .split('.')[1]\n    .replace(/-/g, '+')\n    .replace(/_/g, '/')\n  switch (output.length % 4) {\n    case 0:\n      break\n    case 2:\n      output += '=='\n      break\n    case 3:\n      output += '='\n      break\n    default:\n      throw 'Illegal base64url string!'\n  }\n\n  const result = atob(output)\n\n  try {\n    return decodeURIComponent(escape(result))\n  } catch (err) {\n    console.log(err)\n    return result\n  }\n}\n\nconst validateToken = token => {\n  try {\n    const dateInSecs = d => Math.ceil(Number(d) / 1000)\n    const date = new Date()\n\n    let iss = token.iss\n\n    // ISS can include a trailing slash but should otherwise be identical to\n    // the AUTH0_DOMAIN, so we should remove the trailing slash if it exists\n    iss = iss.endsWith('/') ? iss.slice(0, -1) : iss\n\n    if (iss !== AUTH0_DOMAIN) {\n      throw new Error(\n        `Token iss value (${iss}) doesn't match AUTH0_DOMAIN (${AUTH0_DOMAIN})`,\n      )\n    }\n\n    if (token.aud !== AUTH0_CLIENT_ID) {\n      throw new Error(\n        `Token aud value (${token.aud}) doesn't match AUTH0_CLIENT_ID (${AUTH0_CLIENT_ID})`,\n      )\n    }\n\n    if (token.exp < dateInSecs(date)) {\n      throw new Error(`Token exp value is before current time`)\n    }\n\n    // Token should have been issued within the last day\n    date.setDate(date.getDate() - 1)\n    if (token.iat < dateInSecs(date)) {\n      throw new Error(`Token was issued before one day ago and is now invalid`)\n    }\n\n    return true\n  } catch (err) {\n    console.log(err.message)\n    return false\n  }\n}\n\nconst persistAuth = async exchange => {\n  const body = await exchange.json()\n\n  if (body.error) {\n    console.log('err', body, exchange)\n    throw new Error(body.error)\n  }\n\n  const date = new Date()\n  date.setDate(date.getDate() + 1)\n\n  const decoded = JSON.parse(decodeJWT(body.id_token))\n  const validToken = validateToken(decoded)\n  if (!validToken) {\n    return { status: 401 }\n  }\n\n  const text = new TextEncoder().encode(`${env.SALT}-${decoded.sub}`)\n  const digest = await crypto.subtle.digest({ name: 'SHA-256' }, text)\n  const digestArray = new Uint8Array(digest)\n  const id = btoa(String.fromCharCode.apply(null, digestArray))\n  const idSession = SESSION.idFromName(id)\n  const obj = SESSION.get(idSession)\n  const resp = await obj.fetch('/', {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  })\n  \n  const cookieHeader = request2.headers.get('Cookie')\n    const cookies = cookie.parse(cookieHeader)\n    let path = cookies['loginRedirect'] || '/'\n  const headers = {\n    Location: path,\n    'Set-cookie': `${cookieKey}=${id}; Secure; HttpOnly; SameSite=Lax; Expires=${date.toUTCString()}`,\n  }\n\n  return { headers, status: 302 }\n}\n\nconst redirectUrl = state =>\n  `${auth0.domain}/authorize?response_type=code&client_id=${\n    auth0.clientId\n  }&redirect_uri=${\n    auth0.callbackUrl\n  }&scope=openid%20profile%20email&state=${state}`\n\n const handleRedirect = async request => {\n  const url = new URL(request.url)\n\n  const state = url.searchParams.get('state')\n  if (!state) {\n    return null\n  }\n\n  const obj = await STATE.get(STATE.idFromString(state))//.toJSON().then(x=>x.json())\n  const resp = await obj.fetch('/').then(x=>x.json())\n  if (!resp) {\n    log('failed state restore', resp)\n    return null\n  }\n  \n  const code = url.searchParams.get('code')\n  if (code) {\n    return exchangeCode(code)\n  }\n  console.log(2)\n\n  return null\n}\n\nconst verify = async request => {\n  const cookieHeader = request.headers.get('Cookie')\n  if (cookieHeader && cookieHeader.includes(cookieKey)) {\n    const cookies = cookie.parse(cookieHeader)\n    if (!cookies[cookieKey]) return {}\n    const sub = cookies[cookieKey]\n    const id= SESSION.idFromName(sub)\n    const obj = await SESSION.get(id)\n    const {session: kvStored} = await obj.fetch('/').then(x=>x.json())\n\n    if (!kvStored) {\n      throw new Error('Unable to find authorization data')\n    }\n\n    const { access_token: accessToken, id_token: idToken } = kvStored\n    const userInfo = JSON.parse(decodeJWT(idToken))\n    return { accessToken, idToken, userInfo }\n  }\n  return {}\n}\n\n const authorize = async event => {\n  const authorization = await verify(event)\n  if (authorization.accessToken) {\n    return [true, { authorization }]\n  } else {\n    const state = await generateStateParam()\n    return [false, { redirectUrl: redirectUrl(state) }]\n  }\n}\n\n const logout = request => {\n  const cookieHeader = request.headers.get('Cookie')\n  if (cookieHeader && cookieHeader.includes(cookieKey)) {\n\n    return {\n      headers: {\n        'Location': `https://${auth0.domain}/v2/logout?client_id=${\n          auth0.clientId}&returnTo=${\n          callbackBase\n          }`,\n        'Set-cookie': `${cookieKey}=\"\"; HttpOnly; Secure; SameSite=Lax;Path=/;`,\n      },\n    }\n  }\n  return {}\n}\nreturn {logout, cookieKey, authorize, handleRedirect}\n}", "import { createDurable } from 'itty-durable'\nimport { Hono } from 'hono'\nconst {log} = console\nexport class State {\n  created: boolean = false\n  state: DurableObjectState\n  app: Hono = new Hono()\n\n  constructor(state: DurableObjectState) {\n    this.state = state\n    this.state.blockConcurrencyWhile(async () => {\n      const stored = await this.state.storage?.get<boolean>('created')\n      this.created = stored || false\n    })\n\n\n    this.app.get('/created', async (c) => {\n      this.created = true\n      await this.state.storage?.put('created', this.created)\n      var dt = new Date();\n      dt.setDate(dt.getDate() + 1);\n      this.state.storage.setAlarm(dt)\n\n      return c.json(this.created)\n    })\n\n    this.app.get('/', async (c) => {\n      return c.json(this.created)\n    })\n  }\n\n  async fetch(request: Request) {\n    return this.app.fetch(request)\n  }\n\n  async alarm(){\n    this.created = false\n    await this.state.storage.deleteAll()\n  }\n}\n4320\nexport class Session  {\n  session: any = null\n  created: boolean = false\n  state: DurableObjectState\n  app: Hono = new Hono()\n\n  constructor(state: DurableObjectState) {\n    this.state = state\n    this.state.blockConcurrencyWhile(async () => {\n      const stored = await this.state.storage?.get<any|boolean>(['created', 'session'])\n      this.created = stored.get('created') || false\n      this.session = stored.get('session') || null\n    })\n\n    this.app.post('/', async (c) => {\n      const body = await c.req.parseBody()\n      if (this.created == false){\n        this.created = true\n        await this.state.storage?.put('created', this.created)\n        var dt = new Date();\n        dt.setDate(dt.getDate() + 3);\n        this.state.storage.setAlarm(dt)\n      }\n      this.state.storage.put('session', body)\n      this.session = body\n      console.log('recieved', body)\n      return c.json(body)\n    })\n    this.app.get('/', async (c) => {\n      log('durable state replying for durable session')\n      return c.json({session: this.session, created: this.created})\n    })\n  }\n  async fetch(request: Request) {\n    return this.app.fetch(request)\n  }\n\n  async alarm(){\n    this.session = null\n    this.created = false\n    await this.state.storage.deleteAll()\n  }\n}\n\n\n// export class State extends createDurable({autoPersist: false}) {\n//   constructor(...args) {\n//     super(...args)\n//     this.created = false\n//   }\n\n//   created(o) {\n//     this.created = true\n//     return this.created\n//   }\n// }\n\n  // export class Session extends createDurable({autoPersist: true}) {\n  //   constructor(state, env) {\n  //     super(state, env)\n  //   }\n  \n  //   set(o) {\n  //     // this.state.storage.put('session', o)\n  //     this.session = o\n  //     return\n  //   }\n  //   read(){\n  //     return this.session\n  //   }\n  // }", "// import { getAssetFromKV } from '@cloudflare/kv-asset-handler'\n\n//import { authorize as makeAuth, logout, handleRedirect, cookieKey } from './auth0'\nimport { globals, cookieKey } from './auth0'\nimport {Session, State} from './durables.js'\nexport {Session, State}\nimport cookie from 'cookie'\nconst {log} = console\n// see the readme for more info on what these config options do!\nconst config = {\n  // opt into automatic authorization state hydration\n  hydrateState: false,\n  // return responses at the edge\n  originless: false,\n}\n\nexport function authorizedCookie(event){\n  const cookieHeader = event.headers.get('Cookie')\n  if (cookieHeader && cookieHeader.includes(cookieKey)) {\n    console.log('bad cookie', cookieHeader)\n    const cookies = cookie.parse(cookieHeader)\n    if (cookies[cookieKey] != '') return true\n  }\n  return false\n}\n\n//point of this is to have a function  that doesnt demand user be logged in, unlike for navbar profile button for example\nexport function authorized(event, env){\n  return authorize(event, env, true)\n}\n\n//event is actually request\nexport async function authorize(event, env, verifyOnly=false) {\nconst {MODE} = env\nconst { authorize: makeAuth, logout, handleRedirect} = globals(env, event)\n\n  const stubs = {\n    user: {\n        authorization: {\n            userInfo: {\n                sub: 'testSubId'\n            }\n          },\n          authorized: true\n    }\n  }\n  const isTest = MODE == 'test'\n  if (isTest) return stubs.user\n\n  try {\n    //original coded expected worker event\n    //and wanted non-worktop event\n    // let {body, ...other} = event\n    // let request = new Request(event.url, {\n    // //   ...event, body: await event.body()})\n    // // request = new Request(event.url, {\n    //     ...other})\n        \n    // event = request\n    let request = event\n    console.log('makeauth',)\n    const [authorized, { authorization, redirectUrl }] = await makeAuth(event)\n    console.log('stuck makeauth?')\n    if (authorized && authorization.accessToken) {\n      \n      request = new Request(request, {\n        headers: {\n          Authorization: `Bearer ${authorization.accessToken}`,\n        },\n      })\n    }\n \n    let response = new Response(null)\n    const url = new URL(request.url)\n    console.log('auth', url.pathname)\n    if (url.pathname === '/auth') {\n      log('auth true')\n      const authorizedResponse = await handleRedirect(event)\n      \n      if (!authorizedResponse) {\n        log('failed')\n        return new Response('Unauthorized', { status: 401 })\n      }\n      console.log(authorizedResponse, response.body)\n      response = new Response(response.body, {\n        response,\n        ...authorizedResponse,\n      })\n\n      return response\n    }\n    console.log('authorize redirect')\n    if (!authorized && !verifyOnly) {\n      console.log('redirect', redirectUrl)\n      const url = new URL(event.url)\n      let path = url.pathname + url.search\n      if (path == '/login'){\n        path = '/'\n      }\n      console.log('setting cookie', 33333, path)\n      return new Response('', {\n        status: 302,\n        headers: {\n          'Location': 'https://' + redirectUrl,\n          'Set-cookie': `loginRedirect=\"${path}\"; HttpOnly; Secure; SameSite=Lax; Path=/`,\n        },\n      })\n    }\n\n    const logoutHeaders = {'Location': '/'}\n\n    if (url.pathname === '/logout') {\n      const { headers } = logout(event)\n      const merged = Object.assign({}, logoutHeaders, headers)\n      console.log(merged)\n      return new Response(response.body, {\n            status: 302,\n            headers: merged\n          })\n    }\n    \n    return  {authorized, authorization}\n  } catch (err) {\n    console.log(err)\n    return new Response(err.toString())\n  }\n}"],
  "mappings": "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",
  "names": ["decode", "e", "t", "t", "o", "r", "proxyDurable", "env", "options", "require_itty_durable", "require_cookie", "cookie", "cookie", "key", "cookie", "require_router", "len", "require_router", "Hono", "cookie", "authorize", "log", "log", "import_cookie", "log", "cookie", "authorized", "log", "url"]
}
